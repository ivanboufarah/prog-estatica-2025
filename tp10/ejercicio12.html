<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>CHAT</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    h1 {
      border-bottom: 2px solid gray;
      padding-bottom: 6px;
    }
    label { display:block; margin-top:10px; }
    input[type="text"] { width: 300px; padding:4px; }
    textarea { width: 600px; padding:6px; font-family: inherit; }
    #texto { height: 100px; }
    #posts { height: 250px; margin-top: 12px; white-space: pre-wrap; }
    button { margin-top:8px; padding:6px 12px; }
  </style>
</head>
<body>
  <h1>CHAT</h1>

  <form onsubmit="enviarMensaje(); return false;">
    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" placeholder="Tu nombre" required>

    <label for="texto">Mensaje:</label>
    <textarea id="texto" placeholder="Escribí tu mensaje aquí..." required></textarea>

    <br>
    <button type="submit">Enviar Mensaje</button>
  </form>

  <script>
    function formatoFecha(d){
      return d.getDate() + '/' + (d.getMonth() + 1) + '/' + d.getFullYear()
             + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();
    }

    function enviarMensaje() {
      const nombreEl = document.getElementById('nombre');
      const textoEl  = document.getElementById('texto');
      const postsEl  = document.getElementById('posts');

      const nombre = nombreEl.value.trim();
      const texto  = textoEl.value.trim();

      if (!nombre || !texto) {
        alert('Ingrese nombre y mensaje.');
        return;
      }

      const ahora = new Date();
      const cabecera = formatoFecha(ahora) + ' por ' + nombre;
      const nuevoPost = cabecera + '\n' + texto + '\n\n';

      postsEl.value += nuevoPost;

      postsEl.scrollTop = postsEl.scrollHeight;

      textoEl.value = '';
      textoEl.focus();
    }

    window.addEventListener('load', () => {
      document.getElementById('texto').focus();
    });
  </script>
</body>
</html>
